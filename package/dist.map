{"version":3,"file":"dist","sources":["src/index.js"],"sourcesContent":["/**\n * @hackru/frontend-core Core library dependencies defining application rendering chain\n */\nimport React from \"react\";\n\nlet _store = {};\n\nconst CoreProvider = ({ Store, Linker, children }) => {\n    const recursiveRender = (Linker, Config, NestedRoot) => {\n        return Config.map((link, index) => {\n            let currentId = `${NestedRoot}--${link.module}--${index}`;\n            if (Linker[link.module]) {\n                return Linker[link.module](\n                    currentId, // id\n                    link.params, // configuration parameters,\n                    recursiveRender(Linker, link.children, currentId) // children components\n                );\n            } else {\n                return (\n                    <div key={currentId}>Error: Module {link.module} does not exist</div>\n                )\n            }\n        });\n    }\n    // populate the _store object with the default defined stores\n    _store = Store;\n    return recursiveRender(Linker, children, \"root\")\n};\n\nconst CoreModule = (ReactComponent, ExpectedInputs) => {\n    return (id, params, children) => {\n        // resolve parameters\n        let properties = {\n            __render_id: id\n        }; // create a properties dictionary object with default parameters\n        for (let i = 0; i < ExpectedInputs.length; i++) {\n            let key = ExpectedInputs[i];\n            // resolve inputs from the given configuration\n            if (params[key]) {\n                properties[key] = params[key];\n            }\n            // override the given configuration parameters with the store objects\n            if (_store[key]) {\n                properties[key] = _store[key];\n            }\n            // todo: override the given configuration parameters with url parameters\n        }\n        // render the component\n        return (\n            <div key={id} id={id}>\n                <ReactComponent {...properties}>{children}</ReactComponent>\n            </div>\n        );\n    };\n};\n\nexport { CoreModule, CoreProvider };"],"names":["_store","CoreProvider","Store","Linker","children","recursiveRender","Config","NestedRoot","map","link","index","currentId","module","params","CoreModule","ReactComponent","ExpectedInputs","id","properties","__render_id","i","length","key"],"mappings":";;;;;;AAAA;AACA;AACA;AAGA,IAAIA,MAAM,GAAG,EAAb;;MAEMC,YAAY,GAAG,CAAC;AAAEC,EAAAA,KAAF;AAASC,EAAAA,MAAT;AAAiBC,EAAAA;AAAjB,CAAD,KAAiC;AAClD,QAAMC,eAAe,GAAG,CAACF,MAAD,EAASG,MAAT,EAAiBC,UAAjB,KAAgC;AACpD,WAAOD,MAAM,CAACE,GAAP,CAAW,CAACC,IAAD,EAAOC,KAAP,KAAiB;AAC/B,UAAIC,SAAS,GAAI,GAAEJ,UAAW,KAAIE,IAAI,CAACG,MAAO,KAAIF,KAAM,EAAxD;;AACA,UAAIP,MAAM,CAACM,IAAI,CAACG,MAAN,CAAV,EAAyB;AACrB,eAAOT,MAAM,CAACM,IAAI,CAACG,MAAN,CAAN,CACHD,SADG;AAEHF,QAAAA,IAAI,CAACI,MAFF;AAGHR,QAAAA,eAAe,CAACF,MAAD,EAASM,IAAI,CAACL,QAAd,EAAwBO,SAAxB,CAHZ;AAAA,SAAP;AAKH,OAND,MAMO;AACH,4BACI;AAAK,UAAA,GAAG,EAAEA;AAAV,6BAAoCF,IAAI,CAACG,MAAzC,oBADJ;AAGH;AACJ,KAbM,CAAP;AAcH,GAfD,CADkD;;;AAkBlDZ,EAAAA,MAAM,GAAGE,KAAT;AACA,SAAOG,eAAe,CAACF,MAAD,EAASC,QAAT,EAAmB,MAAnB,CAAtB;AACH;;MAEKU,UAAU,GAAG,CAACC,cAAD,EAAiBC,cAAjB,KAAoC;AACnD,SAAO,CAACC,EAAD,EAAKJ,MAAL,EAAaT,QAAb,KAA0B;AAC7B;AACA,QAAIc,UAAU,GAAG;AACbC,MAAAA,WAAW,EAAEF;AADA,KAAjB,CAF6B;;AAK7B,SAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,cAAc,CAACK,MAAnC,EAA2CD,CAAC,EAA5C,EAAgD;AAC5C,UAAIE,GAAG,GAAGN,cAAc,CAACI,CAAD,CAAxB,CAD4C;;AAG5C,UAAIP,MAAM,CAACS,GAAD,CAAV,EAAiB;AACbJ,QAAAA,UAAU,CAACI,GAAD,CAAV,GAAkBT,MAAM,CAACS,GAAD,CAAxB;AACH,OAL2C;;;AAO5C,UAAItB,MAAM,CAACsB,GAAD,CAAV,EAAiB;AACbJ,QAAAA,UAAU,CAACI,GAAD,CAAV,GAAkBtB,MAAM,CAACsB,GAAD,CAAxB;AACH,OAT2C;;AAW/C,KAhB4B;;;AAkB7B,wBACI;AAAK,MAAA,GAAG,EAAEL,EAAV;AAAc,MAAA,EAAE,EAAEA;AAAlB,oBACI,oBAAC,cAAD,EAAoBC,UAApB,EAAiCd,QAAjC,CADJ,CADJ;AAKH,GAvBD;AAwBH;;;;;"}